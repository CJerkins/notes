# 06AUG20 packet analysis notes
## Initial findings
The GL iNet Slate installed with openwrt firmware was consistant in querying for network time servers. The GL iNet Slate installed with GL iNet firmware was consistant querting to network time servers and icmp ping request to google and opendns DNS servers. There was no evidence within the 11hr span either routers phoned home to an odd IP or domain-name. Its was odd that GL iNet (10.0.0.3 was pinging to dns server every 2-4secs). Hypothisis is this a keepalive feature.

## Test Environment
2 kali linux laptops
2 glinet slate travel routers
1 cisco 8 port switch
1 ipad pro to login GL iNet
off network, no internet connection.

1. Monitoring kali machine (10.0.0.111, switch port g0/1) has wireshark run on a monitoring destination port

2. Fake internet kali linux machine (10.0.0.1, switch port f0/8) has iNetSim running to simulate internet connections. This machine is the default gateway and DNS server.

3. GL iNet slate (10.0.0.2, switch port f0/1) running fresh instal gol of OpenWRT downloaded from OpenWRT.org.

4. GL iNet slate (10.0.0.3, switch port f0/2) running GL iNet firmware first time boot was during this test.

5. cisco 3560 8 port swicth. f0/1, f0/2, f0/8 are source ports being monitored by port g0/1. Native VLAN1.

**Note: A Windows 10 Panisonic Toughbook (10.0.0.10) was used to trouble shoot the iNetSim interface.

**LOG**
06AUG20 2000 travel routers were booted up and configed with static IP's.

06AUG20 2007 Windows 10 Panisonic Toughbook (10.0.0.10) was used to trouble shoot iNetSim web service.

06AUG20 2027 posted for an package update GL iNet slate (10.0.0.3)

06AUG20 2029 posted for an package update GL iNet slate (10.0.0.2)

07AUG20 0700 completed 11hr packet pull


## Initial Observations
**GL iNet slate (10.0.0.2)**
DNS querys to statis DNS (10.0.0.1)
	1. 0.openwrt.pool.ntp.org, 1.openwrt.pool.ntp.org, openwrt.pool.ntp.org
	2. downloads.openwrt.org
	3. captive.apple.com, api,leanplum.com, www.apple.com, www.icloud.com, init.push.apple.com, push.apple.com, gspe1-ssl.ls.apple.com, www.safebrowsing.googleapis.com, www.privateinternetaccess.com, init.itunes.apple.com, gs-loc.apple.com, collab.apps.mil(wickr enterprise), gsp64-ssl.ls.apple.com, incoming.telemetry.mozilla.org, gateway.icloud.com, ferebaseinstallations.googleapis.com, www.google.com, app-measurement.com/sdk-exp, firebaselogging-pa.googleapis.com

DNS servers queryed - 199.116.118.211,104.200.151.6, 62.149.20.50,70.32.0.68

query 1 - These querys were consistant throughout the run

query 2 - This occured when attempted to update package list 06AUG20 2029

query 3 - This is consitant when ipad logined out (10.0.0.2) network. These querys only occured during this time. The non staticly assign DNS servers only queried out during this time as well.

Other connections
Multiple UDP connections were attempted during the time ipad pro was logged on to the network. No other attempted connections to report. 

**GL iNet slate (10.0.0.2)**
DNS querys to statis DNS (10.0.0.1)
	1. 0.openwrt.pool.ntp.org, 1.openwrt.pool.ntp.org, openwrt.pool.ntp.org
	2. getpocket.cdn.mozilla.net, www.google.com, app.adjust.com, gsp64-ssl.ls.apple.com, incoming.telemetry.mozilla.org, 17-courier.push.apple.com, gs-loc.apple.com, www.privateinternetaccess.com, api,leanplum.com,init.push.apple.com, push.apple.com, init.itunes.apple.com, gsp10-ssl.apple.com, captive.apple.com, www.safebrowsing.googleapis.com, time-ios.apple.com
	3. www.drokdev.pro (iNetSim)

query 1 - These querys were consistant throughout the run

query 2 - This is consitant when ipad logined out (10.0.0.2) network. These querys only occured during this time.

query 3 - This occured to connection to iNetSim server. Result was successful.

Note. Attempt to update package list via GL iNet GUI was not queried or posted. Needs additional analysis.

ICMP request
	1. 8.8.8.8, 8.8.4.4, 208.67.222.222, 208.67.220.220
	2. 10.0.0.1

request 1 - These querys were consistant throughout the run. These are known google.com and opendns DNS servers.

request 2 - This occured tester conducted a ping request to iNetSim server

TCP connections
All TCP connection made during this test were attempts to private IPs from ipad, during time the ipad was connented to network.

# 07AUG20 packet analysis notes


## Test Environment
2 kali linux laptops
2 glinet slate travel routers
1 cisco 8 port switch
1 ipad pro to login GL iNet
off network, no internet connection.

1. Monitoring kali machine (10.1.1.107, switch port g0/1 has wireshark run on a monitoring destination port g0/1. 

2. GL iNet travel router (10.1.1.1, switch port f0/8) has iNetSim running to simulate NATed internet conection. This is connection to the internet.

3. GL iNet slate (10.1.1.160, switch port f0/1) running fresh instal gol of OpenWRT downloaded from OpenWRT.org.

4. GL iNet slate (10.1.1.217, switch port f0/2) running GL iNet firmware first time boot was during this test.

5. cisco 3560 8 port swicth. f0/1, f0/2, f0/8 are source ports being monitored by port g0/1. Native VLAN1.

**Note: A Windows 10 Panisonic Toughbook (10.0.0.210) was used to trouble shoot the iNetSim interface.

**LOG**
07AUG20 1500D (07AUG20 1857kali) travel routers were booted up and configed with DHCP.

07AUG20 1515D travel routers wan plugged into the switch.

13AUG20 2113 login 10.1.1.160 and conducted a package update.

13AUG20 2119 login 10.1.1.217 and conducted a package update.

13AUG20 2122 on 10.1.1.217 upgrade to 3.104 and install

13AUG20 2132 on 10.1.1.217 configuring openvpn site-to-site to aws pfsense

13AUG20 2132 on 10.1.1.217 connected via openvpn to aws pfsense

13AUG20 2206 on 10.1.1.217 connected via openvpn to aws pfsense from router

13AUG20 2210 on 10.1.1.217 connected then disconnected via tor from router

13AUG20 2241 on 10.1.1.217 installed ddserver

POWER WENT OUT AND LOST DATA. PACKET CAPTURE FAIL.
